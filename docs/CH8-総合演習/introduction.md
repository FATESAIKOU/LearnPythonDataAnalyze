# CH8: 総合演習 - なぜこの章を学ぶのか？

## 🎯 この章を学ぶ目的

ここまで CH1〜CH7 で個別の技術を学んできました。
しかし、実際のデータ分析では、これらの技術を**組み合わせて使う**必要があります。

この章では、実際のビジネスシーンを想定した**ミニプロジェクト**に挑戦します。
データの読み込みから、前処理、分析、可視化、レポート作成まで、
**分析の一連の流れを自分の力で完成**させることがゴールです。

「学んだつもり」から「使える」へ。
この章を終えた時、あなたは**自分でデータ分析ができる**という自信を持てるようになります。

---

## ✅ この章を学ぶための前提条件

```
┌─────────────────────────────────────────────────────────────────┐
│                      学習の前提条件                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ✅ 条件 1: CH1〜CH3 の Python 基礎を理解している               │
│     ─────────────────────────────────────────────────           │
│     • 変数、データ型、演算ができる                              │
│     • if文、for文、while文を使える                              │
│     • 関数を定義し、モジュールを import できる                  │
│                                                                 │
│  ✅ 条件 2: CH4〜CH6 のデータ操作を理解している                 │
│     ─────────────────────────────────────────────────           │
│     • NumPy 配列の基本操作ができる                              │
│     • Pandas で DataFrame を扱える                              │
│     • データの読み込み、フィルタ、集計、結合ができる            │
│                                                                 │
│  ✅ 条件 3: CH7 の可視化を理解している                          │
│     ─────────────────────────────────────────────────           │
│     • Matplotlib でグラフを作成できる                           │
│     • タイトルやラベルなどの装飾ができる                        │
│     • グラフを画像として保存できる                              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 🔄 この章を学ぶと何が変わるのか？（As-Is / To-Be 比較）

### 変化1: 学んだ技術を「組み合わせて」使えるようになる

**シナリオ**: 実際の業務でデータ分析を求められた

```
┌─────────────────────────────────────────────────────────────────────────┐
│  📊 As-Is: 個別に学んだだけの状態                                       │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   学んだ技術:                                                           │
│   ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐                    │
│   │ Python  │  │  NumPy  │  │ Pandas  │  │Matplotlib│                   │
│   │  基礎   │  │  配列   │  │ データ  │  │ グラフ  │                    │
│   └─────────┘  └─────────┘  └─────────┘  └─────────┘                    │
│       ？           ？           ？           ？                         │
│                                                                         │
│   「それぞれはわかるけど、どう組み合わせれば...？」                     │
│                                                                         │
│   😰 問題点:                                                            │
│   • 個別の技術は理解しているが、連携させ方がわからない                  │
│   • 実際のデータを前にすると何から始めればいいか迷う                    │
│   • 「分析して」と言われても手が動かない                                │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  🐍 To-Be: 総合演習を終えた状態                                                                                                       │
├───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                                       │
│   【目的レイヤー】何をしたいか？                                                                                                      │
│                                                                                                                                       │
│        ┌────────────────┐      ┌────────────────┐      ┌────────────────┐      ┌────────────────┐      ┌────────────────┐             │
│        │   ① 目的を    │      │   ② データを  │      │   ③ 傾向を    │      │   ④ 結果を    │      │   ⑤ 提案を    │             │
│        │   明確にする   │ ──→ │   理解する     │ ──→ │   発見する     │ ──→ │   可視化する   │ ──→ │   まとめる     │             │
│        └───────┬────────┘      └───────┬────────┘      └───────┬────────┘      └───────┬────────┘      └───────┬────────┘             │
│                │                       │                       │                       │                       │                      │
│                ↓                      ↓                      ↓                      ↓                      ↓                     │
│                                                                                                                                       │
│   【作業レイヤー】実際に何をするか？                                                                                                  │
│                                                                                                                                       │
│        ┌────────────────┐      ┌────────────────┐      ┌────────────────┐      ┌────────────────┐      ┌────────────────┐             │
│        │ 分析の問いを   │      │ CSV読み込み    │      │ 集計・計算     │      │ グラフ作成     │      │ 結論を文章化   │             │
│        │ 設定する       │ ──→ │ 欠損値処理     │ ──→ │ 比較・分析     │ ──→ │ 傾向を図示     │ ──→ │ 提案を記述     │             │
│        │                │      │ 型変換         │      │                │      │                │      │                │             │
│        └───────┬────────┘      └───────┬────────┘      └───────┬────────┘      └───────┬────────┘      └───────┬────────┘             │
│                │                       │                       │                       │                       │                      │
│           ┌────┴────┐             ┌────┴────┐             ┌────┴────┐             ┌────┴─────┐            ┌────┴────┐                 │
│           │ Python  │             │ Pandas  │             │ NumPy   │             │Matplotlib│            │ Markdown│                 │
│           │ 思考力  │             │         │             │ Pandas  │             │          │            │ Python  │                 │
│           └─────────┘             └─────────┘             └─────────┘             └──────────┘            └─────────┘                 │
│                                                                                                                                       │
│   😊 利点:                                                                                                                            │
│   • 「何のためにやるか」（目的）と「実際の作業」が 1対1 で対応している                                                                │
│   • 各ステップで使う技術が明確になっている                                                                                            │
│   • 目的から逆算して必要な作業を判断できる                                                                                            │
│                                                                                                                                       │
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

### 変化2: 「分析の問い」から逆算してコードが書ける

**シナリオ**: 「売上を伸ばすにはどうすればいい？」と聞かれた

```
┌────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  📊 As-Is: 問いからコードへの変換ができない                                                            │
├────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                        │
│   上司: 「売上を伸ばすにはどうすればいい？」                                                           │
│                                                                                                        │
│   あなた: ┌───────────────────────────────────────┐                                                    │
│           │  え...何を分析すれば...？             │                                                    │
│           │  どんなグラフを作れば...？            │                                                    │
│           │  何から手をつければ...？              │                                                    │
│           └───────────────────────────────────────┘                                                    │
│                                                                                                        │
│   😰 問題点:                                                                                           │
│   • ビジネスの問いをデータ分析に変換できない                                                           │
│   • 何を集計すれば答えが出るのかわからない                                                             │
│   • 分析結果をどう解釈すればいいか不安                                                                 │
│                                                                                                        │
└────────────────────────────────────────────────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  🐍 To-Be: 問いを分析ステップに分解できる                                                              │
├────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                        │
│   上司: 「売上を伸ばすにはどうすればいい？」                                                           │
│                                                                                                        │
│   ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓   │
│   ┃ STEP 1: 問いをロジックツリーで分解する                                                         ┃   │
│   ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛   │
│                                                                                                        │
│                     売上を伸ばすには？                                                                 │
│                            │                                                                           │
│          ┌─────────────────┼────────────────┐                                                          │
│          ↓                ↓               ↓                                                         │
│     ┌──────────┐     ┌───────────┐     ┌──────────┐                                                    │
│     │売れる時期│     │売れる商品 │     │売れる条件│                                                    │
│     │を把握する│     │を把握する │     │を把握する│                                                    │
│     └────┬─────┘     └─────┬─────┘     └─────┬────┘                                                    │
│          │                 │                 │                                                         │
│     ┌────┴─────┐     ┌─────┴───┐       ┌─────┴───┐                                                     │
│     ↓         ↓    ↓        ↓      ↓        ↓                                                    │
│   ┌─────┐  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌─────┐                                                 │
│   │月別 │  │曜日別│ │商品別│ │カテゴ│ │客単価│ │購入 │                                                 │
│   │推移 │  │比較  │ │売上  │ │リ別  │ │分析  │ │頻度 │                                                 │
│   └─────┘  └──────┘ └──────┘ └──────┘ └──────┘ └─────┘                                                 │
│                                                                                                        │
│   ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓   │
│   ┃ STEP 2: 分解した問いに技術を当てはめて解決し、グラフで可視化する                               ┃   │
│   ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛   │
│                                                                                                        │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────┐    │
│   │                                                                                               │    │
│   │  【例1: 月別推移】                                 【例2: 曜日別比較】                        │    │
│   │                                                                                               │    │
│   │   コード: groupby("月")["売上"].sum()               コード: groupby("曜日")["売上"].mean()    │    │
│   │                                                                                               │    │
│   │   売上(万円)                                     売上(万円)                                   │    │
│   │     ▲                                             ▲                                         │    │
│   │  500│           ●                               50│                           ████  ████     │    │
│   │     │      ●                                      │                     ████  ████  ████     │    │
│   │  400│                ●                          40│             ████    ████  ████  ████     │    │
│   │     │ ●                   ●                      │ ████  ████  ████    ████  ████  ████     │    │
│   │  300│                          ●                30│ ████  ████  ████    ████  ████  ████     │    │
│   │     │                                              │ ████  ████  ████    ████  ████  ████     │    │
│   │  200│                                            20│ ████  ████  ████    ████  ████  ████     │    │
│   │     └────────────────────────▶ 月                 └────────────────────────────────────▶    │    │
│   │       1月  2月  3月  4月  5月  6月                    月   火   水   木   金   土   日        │    │
│   │                                                                                               │    │
│   │   → 傾向: 3月にピーク、6月に落ち込み             → 傾向: 土日が平日より売上が高い           │    │
│   │                                                                                               │    │
│   └───────────────────────────────────────────────────────────────────────────────────────────────┘    │
│                                                                                                        │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────┐    │
│   │                                                                                               │    │
│   │  【例3: カテゴリ別構成】                           【例4: 客単価分布】                        │    │
│   │                                                                                               │    │
│   │   コード: groupby("カテゴリ")["売上"].sum()         コード: df["売上"] / df["件数"]           │    │
│   │                                                                                               │    │
│   │            ┌───────────────┐                       人数                                       │    │
│   │           ╱  食品 40%       ╲                       ▲                                        │    │
│   │          ╱                   ╲                    30│      ████                               │    │
│   │         │    ┌─────────────┐  │                     │      ████                               │    │
│   │         │    │ 日用品 25%  │  │                   20│ ████ ████ ████                          │    │
│   │         │    └─────────────┘  │                     │ ████ ████ ████                          │    │
│   │          ╲  ┌───────────┐   ╱                     10│ ████ ████ ████ ████                     │    │
│   │           ╲ │衣類 20%   │  ╱                        │ ████ ████ ████ ████ ████                │    │
│   │            ╲│ 他15%     │╱                          └───────────────────────────▶ 客単価(円) │    │
│   │             └───────────┘                             500  1000 1500 2000 2500                │    │
│   │                                                                                               │    │
│   │   → 傾向: 食品が売上の4割を占める                → 傾向: 1000円前後の購入が最も多い         │    │
│   │                                                                                               │    │
│   └───────────────────────────────────────────────────────────────────────────────────────────────┘    │
│                                                                                                        │
│   ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓   │
│   ┃ STEP 3: 結果から仮説を立て、提案にまとめる                                                     ┃   │
│   ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛   │
│                                                                                                        │
│   分析結果:                                                                                            │
│   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐   │
│   │ • 週末の売上が平日の 1.5 倍                                                                    │   │
│   │ • カテゴリ「食品」が全体の 40% を占める                                                        │   │
│   │ • 月末に売上が落ち込む傾向                                                                     │   │
│   └────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│           ↓                                                                                           │
│   提案: 「週末に食品カテゴリのセールを実施し、                                                         │
│          月末には割引キャンペーンで集客する」                                                          │
│                                                                                                        │
│   😊 利点:                                                                                             │
│   • 大きな問いを具体的な分析タスクに分解できる                                                         │
│   • 各タスクに対して適切な技術を選択できる                                                             │
│   • 分析結果を根拠とした提案ができる                                                                   │
│                                                                                                        │
└────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

### 変化3: 「自分でできた」という自信が持てる

**シナリオ**: データ分析の依頼を受けた

```
┌─────────────────────────────────────────────────────────────────────────┐
│  📊 As-Is: 教材を見ながらでないとできない                               │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   依頼: 「このデータを分析してくれない？」                              │
│                                                                         │
│   ┌─────────────────────────────────────────────────────────────────┐   │
│   │  「えーと、教材のどこに書いてあったかな...」                    │   │
│   │  「サンプルコードをコピーして...」                              │   │
│   │  「エラーが出た、どうしよう...」                                │   │
│   └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│   😰 問題点:                                                            │
│   • 自分の力でコードを書く経験がない                                    │
│   • エラーが出ると対処法がわからない                                    │
│   • 「本当にできるようになったのか」不安                                │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│  🐍 To-Be: 自力で分析を完成させた経験がある                             │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   依頼: 「このデータを分析してくれない？」                              │
│                                                                         │
│   ┌─────────────────────────────────────────────────────────────────┐   │
│   │  「はい、まず head() でデータを確認して...」                    │   │
│   │  「欠損値があるから dropna() で処理して...」                    │   │
│   │  「月別集計してグラフにすると...こんな傾向ですね」              │   │
│   └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│   総合演習で得た経験:                                                   │
│   ┌────────────────────────────────────────────────────────────────┐    │
│   │  ✅ 売上分析プロジェクト ... 完成させた！                      │    │
│   │  ✅ アンケート分析プロジェクト ... 完成させた！                │    │
│   │  → 「自分でもできる」という成功体験                           │    │
│   └────────────────────────────────────────────────────────────────┘    │
│                                                                         │
│   😊 利点:                                                              │
│   • ミニプロジェクトを完成させた実績がある                              │
│   • 同じパターンなら自力でできる自信がある                              │
│   • 困ったら AI に聞きながら進められる                                  │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 📚 この章で学ぶ内容

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          Chapter 8 の構成                               │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  Section 1: プロジェクトの進め方                                        │
│  ────────────────────────────────                                       │
│  → データ分析プロセス（CRISP-DM）、問いの立て方、仮説検証              │
│                                                                         │
│  Section 2: ミニプロジェクト① 売上分析                                 │
│  ────────────────────────────────────────                               │
│  → 小売データを分析して、売上向上の提案を行う                          │
│    • 月別売上推移                                                       │
│    • 商品カテゴリ別分析                                                 │
│    • 曜日別パターン分析                                                 │
│                                                                         │
│  Section 3: ミニプロジェクト② アンケート分析                           │
│  ──────────────────────────────────────────                             │
│  → アンケートデータを分析して、顧客満足度の傾向を把握する              │
│    • 満足度分布の可視化                                                 │
│    • 年代別クロス集計                                                   │
│    • 改善ポイントの特定                                                 │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 🚀 学習を始めましょう

この章は **本教材の集大成** です。

ここまで学んできた技術をすべて使って、実際のミニプロジェクトに取り組みます。
最初は難しく感じるかもしれませんが、
行き詰まったら AI エージェントに質問しながら進めてください。

大切なのは **最後まで完成させること** です。

```
┌─────────────────────────────────────────────────────────────────────────┐
│                                                                         │
│   完成させた時、あなたは確実にレベルアップしています。                  │
│                                                                         │
│   「Python でデータ分析ができます」                                     │
│                                                                         │
│   胸を張ってそう言える自分になりましょう！                              │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

さあ、最後の章を始めましょう！
