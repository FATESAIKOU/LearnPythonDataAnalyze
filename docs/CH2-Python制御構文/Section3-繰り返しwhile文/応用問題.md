# Section3: 応用問題

## 🚀 この応用問題について

while 文を使った実践的なプログラムに挑戦しましょう。

---

## 応用問題1: 文字列の逆転

### 問題

入力された文字列を逆順に表示するプログラムを while 文で作成してください。

### 実行例

```
文字列を入力: Python
逆順: nohtyP
```

<details>
<summary>解答例を見る</summary>

```python
text = input("文字列を入力: ")
reversed_text = ""
index = len(text) - 1

while index >= 0:
    reversed_text = reversed_text + text[index]
    index = index - 1

print("逆順: " + reversed_text)
```

</details>

---

## 応用問題2: フィボナッチ数列

### 問題

フィボナッチ数列を1000を超えるまで表示してください。

**フィボナッチ数列**: 0, 1, 1, 2, 3, 5, 8, 13, 21, ...（前2つの数の和）

### 出力例

```
フィボナッチ数列（1000まで）:
0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987
```

<details>
<summary>解答例を見る</summary>

```python
print("フィボナッチ数列（1000まで）:")

a = 0
b = 1

while a <= 1000:
    print(a, end=" ")
    temp = a + b
    a = b
    b = temp

print()
```

</details>

---

## 応用問題3: コラッツ予想

### 問題

コラッツ予想のシミュレーションを作成してください。

**コラッツ予想のルール:**
- 偶数なら 2 で割る
- 奇数なら 3 倍して 1 を足す
- これを繰り返すと必ず 1 になる（と予想されている）

### 実行例

```
開始の数字を入力: 7
7 → 22 → 11 → 34 → 17 → 52 → 26 → 13 → 40 → 20 → 10 → 5 → 16 → 8 → 4 → 2 → 1
16ステップで1になりました
```

<details>
<summary>解答例を見る</summary>

```python
n = int(input("開始の数字を入力: "))
steps = 0

print(n, end="")

while n != 1:
    if n % 2 == 0:
        n = n // 2
    else:
        n = n * 3 + 1
    
    print(" → " + str(n), end="")
    steps = steps + 1

print()
print(str(steps) + "ステップで1になりました")
```

</details>

---

## 応用問題4: 最大公約数（ユークリッドの互除法）

### 問題

2つの正の整数の最大公約数を求めるプログラムを作成してください。

**ユークリッドの互除法:**
- a と b の最大公約数を求める
- b が 0 なら a が最大公約数
- そうでなければ a を b で割った余りと b の最大公約数を求める

### 実行例

```
1つ目の数字: 48
2つ目の数字: 18
48 と 18 の最大公約数は 6 です
```

<details>
<summary>解答例を見る</summary>

```python
a = int(input("1つ目の数字: "))
b = int(input("2つ目の数字: "))

original_a = a
original_b = b

while b != 0:
    temp = b
    b = a % b
    a = temp

print(str(original_a) + " と " + str(original_b) + " の最大公約数は " + str(a) + " です")
```

</details>

---

## 🏆 チャレンジ問題1: ATMシミュレーション

### 問題

簡易ATMのシミュレーションを作成してください。

**仕様:**
- 初期残高: 10000円
- 操作: 1.残高照会 2.入金 3.出金 4.終了
- 残高以上の出金はエラー

### 実行例

```
===== ATM =====
1. 残高照会
2. 入金
3. 出金
4. 終了
===============
操作を選択: 1
残高: 10000円
操作を選択: 3
出金額: 3000
3000円を出金しました
残高: 7000円
操作を選択: 4
ご利用ありがとうございました
```

<details>
<summary>解答例を見る</summary>

```python
balance = 10000

print("===== ATM =====")
print("1. 残高照会")
print("2. 入金")
print("3. 出金")
print("4. 終了")
print("===============")

while True:
    choice = input("操作を選択: ")
    
    if choice == "1":
        print("残高: " + str(balance) + "円")
    
    elif choice == "2":
        amount = int(input("入金額: "))
        if amount > 0:
            balance = balance + amount
            print(str(amount) + "円を入金しました")
            print("残高: " + str(balance) + "円")
        else:
            print("無効な金額です")
    
    elif choice == "3":
        amount = int(input("出金額: "))
        if amount <= 0:
            print("無効な金額です")
        elif amount > balance:
            print("残高不足です")
        else:
            balance = balance - amount
            print(str(amount) + "円を出金しました")
            print("残高: " + str(balance) + "円")
    
    elif choice == "4":
        print("ご利用ありがとうございました")
        break
    
    else:
        print("無効な選択です")
```

</details>

---

## 🏆 チャレンジ問題2: 簡易電卓

### 問題

足し算、引き算、掛け算、割り算ができる電卓を作成してください。
「=」が入力されたら終了します。

### 実行例

```
===== 簡易電卓 =====
（「=」で終了）
数字を入力: 10
演算子を入力 (+, -, *, /): +
数字を入力: 5
結果: 15
演算子を入力 (+, -, *, /, =): *
数字を入力: 2
結果: 30
演算子を入力 (+, -, *, /, =): =
最終結果: 30
```

<details>
<summary>解答例を見る</summary>

```python
print("===== 簡易電卓 =====")
print("（「=」で終了）")

result = int(input("数字を入力: "))

while True:
    operator = input("演算子を入力 (+, -, *, /, =): ")
    
    if operator == "=":
        break
    
    num = int(input("数字を入力: "))
    
    if operator == "+":
        result = result + num
    elif operator == "-":
        result = result - num
    elif operator == "*":
        result = result * num
    elif operator == "/":
        if num != 0:
            result = result / num
        else:
            print("0で割ることはできません")
            continue
    else:
        print("無効な演算子です")
        continue
    
    print("結果: " + str(result))

print("最終結果: " + str(result))
```

</details>

---

## 🎯 応用問題のまとめ

これらの問題を通して：

- while 文を使った文字列操作
- 数学的なパターンの実装
- 複雑な条件での繰り返し処理
- メニュー型プログラムの作成

を学びました！

---

## 🎉 CH2 完了！

おめでとうございます！CH2「Python 制御構文」を修了しました。

次は CH3「Python 関数とモジュール」で、コードを整理する方法を学びましょう！
