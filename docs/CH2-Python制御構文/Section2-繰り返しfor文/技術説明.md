# Section2: 繰り返し（for文）

## 🎯 このセクションの目標

**リストや範囲に対して繰り返し処理ができるようになる！**

同じような処理を何度も書く必要がなくなり、効率的にプログラムが書けるようになります。

---

## 🔄 繰り返しとは？

同じ処理を何度も実行したいとき、繰り返し（ループ）を使います。

### 繰り返しを使わない場合

```python
print("Hello!")
print("Hello!")
print("Hello!")
print("Hello!")
print("Hello!")
```

### 繰り返しを使う場合

```python
for i in range(5):
    print("Hello!")
```

**実行結果：**
```
Hello!
Hello!
Hello!
Hello!
Hello!
```

たった2行で同じ結果が得られます！

---

## 📝 for 文の基本

### 構文

```python
for 変数 in イテラブル:
    繰り返す処理
```

**イテラブル**: 順番に取り出せるもの（リスト、range、文字列など）

### リストを使った for 文

```python
fruits = ["りんご", "バナナ", "みかん"]

for fruit in fruits:
    print(fruit)
```

**実行結果：**
```
りんご
バナナ
みかん
```

リストの各要素が順番に `fruit` に代入され、処理が実行されます。

---

## 🔢 range() 関数

指定した回数だけ繰り返したいときは `range()` を使います。

### range(n): 0 から n-1 まで

```python
for i in range(5):
    print(i)
```

**実行結果：**
```
0
1
2
3
4
```

**注意**: 0 から始まり、5 は含まれません！

### range(start, stop): start から stop-1 まで

```python
for i in range(1, 6):
    print(i)
```

**実行結果：**
```
1
2
3
4
5
```

### range(start, stop, step): step ずつ増加

```python
for i in range(0, 10, 2):
    print(i)
```

**実行結果：**
```
0
2
4
6
8
```

### カウントダウン

```python
for i in range(5, 0, -1):
    print(i)
```

**実行結果：**
```
5
4
3
2
1
```

---

## 📊 range() のまとめ

| 書き方 | 結果 |
|--------|------|
| `range(5)` | 0, 1, 2, 3, 4 |
| `range(1, 5)` | 1, 2, 3, 4 |
| `range(0, 10, 2)` | 0, 2, 4, 6, 8 |
| `range(5, 0, -1)` | 5, 4, 3, 2, 1 |

---

## 📝 文字列のループ

文字列も1文字ずつ取り出せます。

```python
word = "Python"

for char in word:
    print(char)
```

**実行結果：**
```
P
y
t
h
o
n
```

---

## 🔢 enumerate(): インデックスも取得

リストの要素だけでなく、インデックス（順番）も欲しいときは `enumerate()` を使います。

```python
fruits = ["りんご", "バナナ", "みかん"]

for index, fruit in enumerate(fruits):
    print(str(index) + ": " + fruit)
```

**実行結果：**
```
0: りんご
1: バナナ
2: みかん
```

### 1から始めたい場合

```python
fruits = ["りんご", "バナナ", "みかん"]

for index, fruit in enumerate(fruits, 1):
    print(str(index) + ": " + fruit)
```

**実行結果：**
```
1: りんご
2: バナナ
3: みかん
```

---

## 📊 合計・カウントの計算

### リストの合計

```python
numbers = [10, 20, 30, 40, 50]
total = 0

for num in numbers:
    total = total + num

print("合計: " + str(total))
```

**実行結果：**
```
合計: 150
```

### 条件に合う要素をカウント

```python
scores = [85, 72, 90, 65, 88, 95, 78]
count = 0

for score in scores:
    if score >= 80:
        count = count + 1

print("80点以上の人数: " + str(count))
```

**実行結果：**
```
80点以上の人数: 4
```

---

## 🪆 ネストした for ループ

for 文の中に for 文を書くこともできます。

### 九九の表

```python
for i in range(1, 4):
    for j in range(1, 4):
        result = i * j
        print(str(i) + " x " + str(j) + " = " + str(result))
    print("---")
```

**実行結果：**
```
1 x 1 = 1
1 x 2 = 2
1 x 3 = 3
---
2 x 1 = 2
2 x 2 = 4
2 x 3 = 6
---
3 x 1 = 3
3 x 2 = 6
3 x 3 = 9
---
```

### 星のパターン

```python
for i in range(1, 6):
    print("*" * i)
```

**実行結果：**
```
*
**
***
****
*****
```

---

## 📊 フローチャート

### for 文のフローチャート

```
    ┌───────────────────┐
    │        開始       │
    └─────────┬─────────┘
              ↓
    ┌───────────────────┐
    │ イテラブルを準備  │
    └─────────┬─────────┘
              ↓
    ┌─────────┴─────────┐
    │ 次の要素がある？  │
    └─────────┬─────────┘
        ┌─────┴───┐
       Yes↓      ↓No
    ┌─────────┐   │
    │ 変数に  │   │
    │ 要素代入│   │
    └────┬────┘   │
        ↓        │
    ┌─────────┐   │
    │ 処理実行│   │
    └────┬────┘   │
         └────────┘
              ↓
    ┌───────────────────┐
    │       終了        │
    └───────────────────┘
```

---

## 🎨 実践例：リストの操作

### 最大値を見つける

```python
numbers = [34, 67, 23, 89, 12, 56]
max_value = numbers[0]

for num in numbers:
    if num > max_value:
        max_value = num

print("最大値: " + str(max_value))
```

**実行結果：**
```
最大値: 89
```

### リストの要素を変換

```python
prices = [100, 200, 300, 400, 500]
print("元の価格: ")
for price in prices:
    print(price)

print("---")
print("10%オフ価格: ")
for price in prices:
    discounted = int(price * 0.9)
    print(discounted)
```

---

## 📝 リスト内包表記（プレビュー）

後の章で詳しく学びますが、for ループを1行で書く方法もあります。

```python
# 通常の書き方
squares = []
for i in range(1, 6):
    squares.append(i ** 2)
print(squares)  # [1, 4, 9, 16, 25]

# リスト内包表記（同じ結果）
squares = [i ** 2 for i in range(1, 6)]
print(squares)  # [1, 4, 9, 16, 25]
```

---

## ⚠️ よくあるエラー

### エラー例 1: インデント忘れ

```python
# ❌ 間違い
for i in range(5):
print(i)  # IndentationError!

# ✅ 正しい
for i in range(5):
    print(i)
```

### エラー例 2: range の範囲ミス

```python
# 1から5までのつもりが...
for i in range(5):
    print(i)  # 0, 1, 2, 3, 4 が出力される

# 1から5なら
for i in range(1, 6):
    print(i)  # 1, 2, 3, 4, 5 が出力される
```

### エラー例 3: ループ変数の上書き

```python
# ❌ ループ変数を意図せず上書き
for i in range(5):
    i = 100  # これは意味がない（次の反復で上書きされる）
    print(i)
```

---

## 🎯 このセクションのまとめ

| 学んだこと | 内容 |
|------------|------|
| for 文 | イテラブルの各要素を順番に処理 |
| range() | 指定回数の繰り返し |
| enumerate() | インデックスと値を同時に取得 |
| ネストループ | for の中に for |
| 合計・カウント | ループで集計 |

---

## ➡️ 次のステップ

「演習.md」で for 文を実践しましょう！
