# CH5: Pandas 入門 - データ操作の基礎

## 🎯 この章の目的

Pandas を使って実際のデータを読み込み、操作できるようになることを目指します。
DataFrame というテーブル形式のデータ構造を使い、Excel のような操作をプログラムで実現します。

---

## 📚 教授技術

| セクション | トピック | 学習内容 |
|------------|----------|----------|
| Section1 | Series（1次元データ） | Series の作成、属性、基本操作 |
| Section2 | DataFrame（2次元データ） | DataFrame の作成、属性、構造理解 |
| Section3 | データの読み書き | CSV/Excel の読み込み・保存 |
| Section4 | データの選択 | loc/iloc、カラム・行の選択 |
| Section5 | データのフィルタリング | 条件抽出、query、複合条件 |

---

## 🎓 教授方法

### アプローチ
- **Excel との比較**: Excel での操作を Pandas でどう実現するか
- **実データで学ぶ**: サンプルデータを使って実践的に操作
- **確認を習慣化**: データを操作したら必ず結果を確認

### 進め方
1. 各セクションの「技術説明.md」を読む
2. Jupyter Notebook でサンプルデータを操作
3. 操作前後のデータを常に確認
4. 「演習.md」で基本操作を練習
5. 「応用問題.md」で実践的なデータ操作にチャレンジ

---

## 📖 セクション構成

### Section1: Series（1次元データ）
**目標**: Pandas の1次元データ構造 Series を理解し、操作できる

- Pandas とは何か
- import pandas as pd
- Series の作成方法（リスト、辞書から）
- Series のインデックス
- Series の基本属性（index, values, dtype, size）
- Series の基本操作（要素アクセス、スライス）
- Series の算術演算

### Section2: DataFrame（2次元データ）
**目標**: Pandas の2次元データ構造 DataFrame を理解し、作成できる

- DataFrame とは何か（表形式データ）
- DataFrame の作成方法（辞書、リスト、NumPy 配列から）
- 行インデックスとカラム（列名）
- DataFrame の基本属性（shape, columns, index, dtypes）
- head(), tail() で先頭・末尾を確認
- info() でデータ型と欠損値を確認
- describe() で統計情報を確認

### Section3: データの読み書き
**目標**: ファイルからデータを読み込み、保存できる

- pd.read_csv() で CSV ファイル読み込み
- 読み込みオプション（encoding, header, index_col）
- pd.read_excel() で Excel ファイル読み込み
- to_csv() で CSV ファイル保存
- to_excel() で Excel ファイル保存
- 文字コードの問題と対処法

### Section4: データの選択
**目標**: DataFrame から必要なデータを選択できる

- カラムの選択（df['col'], df[['col1', 'col2']]）
- loc[] でラベルベースの選択
- iloc[] で位置ベースの選択
- 行と列を同時に選択
- 特定のセルの値を取得・設定
- at[], iat[] での高速アクセス

### Section5: データのフィルタリング
**目標**: 条件に基づいてデータを抽出できる

- ブールインデックス（条件式）
- 単一条件でのフィルタリング
- 複数条件の組み合わせ（&, |, ~）
- query() メソッドの使い方
- isin() で複数の値にマッチ
- between() で範囲指定

---

## ⏰ 想定学習時間

| セクション | 時間 |
|------------|------|
| Section1: Series（1次元データ） | 30-45 分 |
| Section2: DataFrame（2次元データ） | 45-60 分 |
| Section3: データの読み書き | 30-45 分 |
| Section4: データの選択 | 45-60 分 |
| Section5: データのフィルタリング | 45-60 分 |
| **合計** | **3-4 時間** |

---

## ✅ この章の修了条件

以下ができるようになれば、この章は修了です：

- [ ] Series を作成し、基本操作ができる
- [ ] DataFrame を作成できる
- [ ] CSV/Excel ファイルを読み込み・保存できる
- [ ] head(), info(), describe() でデータを確認できる
- [ ] loc と iloc の違いを理解し、使い分けられる
- [ ] 条件を使ってデータをフィルタリングできる
- [ ] 複数条件を組み合わせて抽出できる

---

## 💡 つまずきやすいポイント

| 問題 | 解決策 |
|------|--------|
| CSV が読み込めない | ファイルパスが正しいか確認。日本語パスは避ける |
| 文字化け | encoding='utf-8' または encoding='cp932'（Windows）を試す |
| カラム名でエラー | スペースや特殊文字に注意。df.columns で実際のカラム名を確認 |
| loc と iloc の混同 | loc はラベル、iloc は位置（数字）。i = integer の i |
| フィルタリングで空になる | 条件が厳しすぎないか確認。まず条件単体で True/False を確認 |
| 複数条件でエラー | 各条件を () で囲む。and/or ではなく &/| を使う |

---

## 🔗 前提知識

この章を学ぶには、以下の内容を理解している必要があります：

- Python の基本文法（CH1-CH3）
- NumPy の配列操作（CH4）- 特にインデックスとスライス

---

## 📊 使用するサンプルデータ

この章では以下のサンプルデータを使用します：

- `sample_sales.csv` - 売上データ（商品名、価格、数量、日付など）

学習を始める前に、サンプルデータが正しく配置されているか確認してください。

---

## 🚀 次の章への準備

この章を終えると、CH6「Pandas 応用」でデータの加工や集計を学びます。
データの選択とフィルタリングは頻繁に使う操作なので、しっかり練習しておきましょう。
