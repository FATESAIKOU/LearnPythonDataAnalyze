# Section5: è¤‡æ•°ã‚°ãƒ©ãƒ•ã¨ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ - æ¼”ç¿’å•é¡Œ

## ğŸ“ åŸºæœ¬æ¼”ç¿’

---

### æ¼”ç¿’1: 2x2ã®ã‚°ãƒªãƒƒãƒ‰

`plt.subplots(2, 2)` ã‚’ä½¿ã£ã¦4ã¤ã®ã‚°ãƒ©ãƒ•ã‚’é…ç½®ã—ã¦ãã ã•ã„ã€‚

**è¦ä»¶:**
- å·¦ä¸Š: æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•
- å³ä¸Š: æ£’ã‚°ãƒ©ãƒ•
- å·¦ä¸‹: æ•£å¸ƒå›³
- å³ä¸‹: ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 

```python
import matplotlib.pyplot as plt

x = [1, 2, 3, 4, 5]
y = [10, 25, 20, 35, 30]

# 2x2ã®ã‚°ãƒªãƒƒãƒ‰ã‚’ä½œæˆ
# ã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

plt.tight_layout()
plt.show()
```

<details>
<summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>

```python
import matplotlib.pyplot as plt

x = [1, 2, 3, 4, 5]
y = [10, 25, 20, 35, 30]

# 2x2ã®ã‚°ãƒªãƒƒãƒ‰ã‚’ä½œæˆ
fig, axes = plt.subplots(2, 2, figsize=(12, 10))

# å·¦ä¸Š: æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•
axes[0, 0].plot(x, y, 'b-o')
axes[0, 0].set_title('Line Chart')

# å³ä¸Š: æ£’ã‚°ãƒ©ãƒ•
axes[0, 1].bar(x, y, color='orange')
axes[0, 1].set_title('Bar Chart')

# å·¦ä¸‹: æ•£å¸ƒå›³
axes[1, 0].scatter(x, y, s=100, c='green')
axes[1, 0].set_title('Scatter Plot')

# å³ä¸‹: ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 
axes[1, 1].hist(y, bins=5, color='purple', edgecolor='black')
axes[1, 1].set_title('Histogram')

plt.tight_layout()
plt.show()
```

**è§£èª¬:**
- `axes[è¡Œ, åˆ—]` ã§å„ã‚µãƒ–ãƒ—ãƒ­ãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹
- å„ axes ã«å¯¾ã—ã¦é€šå¸¸ã®ãƒ—ãƒ­ãƒƒãƒˆé–¢æ•°ã‚’ä½¿ç”¨

</details>

---

### æ¼”ç¿’2: 1è¡Œ3åˆ—ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

`plt.subplots(1, 3)` ã‚’ä½¿ã£ã¦æ¨ªã«3ã¤ä¸¦ã¹ã¦ãã ã•ã„ã€‚

```python
import matplotlib.pyplot as plt

categories = ['A', 'B', 'C', 'D']
values1 = [10, 20, 15, 25]
values2 = [15, 25, 20, 30]
values3 = [12, 22, 18, 28]

# 1è¡Œ3åˆ—ã®ã‚°ãƒªãƒƒãƒ‰ã‚’ä½œæˆ
# ã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

plt.tight_layout()
plt.show()
```

<details>
<summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>

```python
import matplotlib.pyplot as plt

categories = ['A', 'B', 'C', 'D']
values1 = [10, 20, 15, 25]
values2 = [15, 25, 20, 30]
values3 = [12, 22, 18, 28]

# 1è¡Œ3åˆ—ã®ã‚°ãƒªãƒƒãƒ‰ã‚’ä½œæˆ
fig, axes = plt.subplots(1, 3, figsize=(15, 5))

# 1æ¬¡å…ƒé…åˆ—ãªã®ã§ [0], [1], [2] ã§ã‚¢ã‚¯ã‚»ã‚¹
axes[0].bar(categories, values1, color='steelblue')
axes[0].set_title('2022')
axes[0].set_ylabel('Sales')

axes[1].bar(categories, values2, color='coral')
axes[1].set_title('2023')

axes[2].bar(categories, values3, color='seagreen')
axes[2].set_title('2024')

plt.tight_layout()
plt.show()
```

**è§£èª¬:**
- 1è¡Œã¾ãŸã¯1åˆ—ã®å ´åˆã€axes ã¯1æ¬¡å…ƒé…åˆ—
- `axes[0]`, `axes[1]`, `axes[2]` ã§ã‚¢ã‚¯ã‚»ã‚¹

</details>

---

### æ¼”ç¿’3: xè»¸ã‚’å…±æœ‰

`sharex=True` ã‚’ä½¿ã£ã¦ã€xè»¸ã‚’å…±æœ‰ã™ã‚‹2ã¤ã®ã‚°ãƒ©ãƒ•ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

```python
import matplotlib.pyplot as plt

months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']
sales = [100, 120, 110, 140, 150, 160]
profit = [15, 20, 18, 25, 28, 30]

# xè»¸ã‚’å…±æœ‰ã™ã‚‹2è¡Œ1åˆ—ã®ã‚°ãƒªãƒƒãƒ‰ã‚’ä½œæˆ
# ã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

plt.tight_layout()
plt.show()
```

<details>
<summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>

```python
import matplotlib.pyplot as plt

months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']
sales = [100, 120, 110, 140, 150, 160]
profit = [15, 20, 18, 25, 28, 30]

# xè»¸ã‚’å…±æœ‰ã™ã‚‹2è¡Œ1åˆ—ã®ã‚°ãƒªãƒƒãƒ‰ã‚’ä½œæˆ
fig, (ax1, ax2) = plt.subplots(2, 1, figsize=(10, 8), sharex=True)

# ä¸Šæ®µ: å£²ä¸Š
ax1.plot(months, sales, 'b-o', linewidth=2, markersize=8)
ax1.set_ylabel('Sales (ä¸‡å††)', fontsize=12)
ax1.set_title('Sales and Profit Trend', fontsize=14)
ax1.grid(True, alpha=0.3)

# ä¸‹æ®µ: åˆ©ç›Š
ax2.plot(months, profit, 'g-s', linewidth=2, markersize=8)
ax2.set_ylabel('Profit (ä¸‡å††)', fontsize=12)
ax2.set_xlabel('Month', fontsize=12)
ax2.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
```

**è§£èª¬:**
- `sharex=True` ã§xè»¸ã‚’å…±æœ‰
- ä¸‹ã®ã‚°ãƒ©ãƒ•ã«ã®ã¿ xè»¸ãƒ©ãƒ™ãƒ«ã‚’è¨­å®š

</details>

---

### æ¼”ç¿’4: yè»¸ã‚’å…±æœ‰

`sharey=True` ã‚’ä½¿ã£ã¦ã€yè»¸ã‚’å…±æœ‰ã™ã‚‹2ã¤ã®æ£’ã‚°ãƒ©ãƒ•ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

```python
import matplotlib.pyplot as plt

categories = ['A', 'B', 'C', 'D']
values_2023 = [80, 100, 90, 120]
values_2024 = [90, 110, 100, 130]

# yè»¸ã‚’å…±æœ‰ã™ã‚‹1è¡Œ2åˆ—ã®ã‚°ãƒªãƒƒãƒ‰ã‚’ä½œæˆ
# ã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

plt.tight_layout()
plt.show()
```

<details>
<summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>

```python
import matplotlib.pyplot as plt

categories = ['A', 'B', 'C', 'D']
values_2023 = [80, 100, 90, 120]
values_2024 = [90, 110, 100, 130]

# yè»¸ã‚’å…±æœ‰ã™ã‚‹1è¡Œ2åˆ—ã®ã‚°ãƒªãƒƒãƒ‰ã‚’ä½œæˆ
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 5), sharey=True)

ax1.bar(categories, values_2023, color='steelblue')
ax1.set_title('2023', fontsize=14)
ax1.set_ylabel('Sales', fontsize=12)

ax2.bar(categories, values_2024, color='coral')
ax2.set_title('2024', fontsize=14)

# å…¨ä½“ã®ã‚¿ã‚¤ãƒˆãƒ«
fig.suptitle('Year-over-Year Comparison', fontsize=16, fontweight='bold')

plt.tight_layout()
plt.subplots_adjust(top=0.88)
plt.show()
```

**è§£èª¬:**
- `sharey=True` ã§yè»¸ã‚’å…±æœ‰
- å·¦ã®ã‚°ãƒ©ãƒ•ã«ã®ã¿ yè»¸ãƒ©ãƒ™ãƒ«ã‚’è¨­å®š

</details>

---

### æ¼”ç¿’5: åŒè»¸ã‚°ãƒ©ãƒ•

æ£’ã‚°ãƒ©ãƒ•ï¼ˆå£²ä¸Šï¼‰ã¨æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼ˆåˆ©ç›Šç‡ï¼‰ã‚’ **åŒã˜ã‚°ãƒ©ãƒ•** ã«æã„ã¦ãã ã•ã„ã€‚

```python
import matplotlib.pyplot as plt

months = ['Jan', 'Feb', 'Mar', 'Apr', 'May']
sales = [100, 120, 110, 130, 150]
profit_rate = [10, 12, 11, 14, 16]

# åŒè»¸ã‚°ãƒ©ãƒ•ã‚’ä½œæˆ
# ã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

plt.show()
```

<details>
<summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>

```python
import matplotlib.pyplot as plt

months = ['Jan', 'Feb', 'Mar', 'Apr', 'May']
sales = [100, 120, 110, 130, 150]
profit_rate = [10, 12, 11, 14, 16]

fig, ax1 = plt.subplots(figsize=(10, 6))

# å·¦è»¸: å£²ä¸Šï¼ˆæ£’ã‚°ãƒ©ãƒ•ï¼‰
color1 = 'steelblue'
ax1.bar(months, sales, color=color1, alpha=0.7, label='Sales')
ax1.set_xlabel('Month', fontsize=12)
ax1.set_ylabel('Sales (ä¸‡å††)', color=color1, fontsize=12)
ax1.tick_params(axis='y', labelcolor=color1)

# å³è»¸ã‚’ä½œæˆ
ax2 = ax1.twinx()

# å³è»¸: åˆ©ç›Šç‡ï¼ˆæŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼‰
color2 = 'coral'
ax2.plot(months, profit_rate, 'o-', color=color2, linewidth=2, 
         markersize=8, label='Profit Rate')
ax2.set_ylabel('Profit Rate (%)', color=color2, fontsize=12)
ax2.tick_params(axis='y', labelcolor=color2)

# ã‚¿ã‚¤ãƒˆãƒ«
plt.title('Sales and Profit Rate', fontsize=14, fontweight='bold')

# å‡¡ä¾‹ã‚’ã¾ã¨ã‚ã‚‹
lines1, labels1 = ax1.get_legend_handles_labels()
lines2, labels2 = ax2.get_legend_handles_labels()
ax1.legend(lines1 + lines2, labels1 + labels2, loc='upper left')

plt.tight_layout()
plt.show()
```

**è§£èª¬:**
- `ax1.twinx()` ã§å³å´ã«yè»¸ã‚’è¿½åŠ 
- å‡¡ä¾‹ã¯ä¸¡æ–¹ã®è»¸ã‹ã‚‰ã¾ã¨ã‚ã¦è¡¨ç¤º

</details>

---

### æ¼”ç¿’6: PNGå½¢å¼ã§ä¿å­˜

ã‚°ãƒ©ãƒ•ã‚’ **300dpi ã® PNGå½¢å¼** ã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚

```python
import matplotlib.pyplot as plt

x = [1, 2, 3, 4, 5]
y = [10, 25, 20, 35, 30]

plt.figure(figsize=(10, 6))
plt.plot(x, y, 'b-o', linewidth=2)
plt.title('Sample Chart')
plt.xlabel('X')
plt.ylabel('Y')
plt.grid(True, alpha=0.3)

# 300dpi ã® PNG ã§ä¿å­˜
# ã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

plt.show()
```

<details>
<summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>

```python
import matplotlib.pyplot as plt

x = [1, 2, 3, 4, 5]
y = [10, 25, 20, 35, 30]

plt.figure(figsize=(10, 6))
plt.plot(x, y, 'b-o', linewidth=2)
plt.title('Sample Chart')
plt.xlabel('X')
plt.ylabel('Y')
plt.grid(True, alpha=0.3)

# 300dpi ã® PNG ã§ä¿å­˜
plt.savefig('sample_chart.png', 
            dpi=300, 
            bbox_inches='tight', 
            facecolor='white')

plt.show()
```

**è§£èª¬:**
- `dpi=300`: å°åˆ·å“è³ª
- `bbox_inches='tight'`: ä½™ç™½ã‚’æœ€å°åŒ–
- `facecolor='white'`: èƒŒæ™¯ã‚’ç™½ã«

</details>

---

### æ¼”ç¿’7: è¤‡æ•°å½¢å¼ã§ä¿å­˜

åŒã˜ã‚°ãƒ©ãƒ•ã‚’ **PNG, PDF, SVG** ã®3å½¢å¼ã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚

```python
import matplotlib.pyplot as plt

x = [1, 2, 3, 4, 5]
y = [10, 25, 20, 35, 30]

fig, ax = plt.subplots(figsize=(10, 6))
ax.plot(x, y, 'b-o', linewidth=2)
ax.set_title('Multi-Format Export')

# 3å½¢å¼ã§ä¿å­˜
# ã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

plt.show()
```

<details>
<summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>

```python
import matplotlib.pyplot as plt

x = [1, 2, 3, 4, 5]
y = [10, 25, 20, 35, 30]

fig, ax = plt.subplots(figsize=(10, 6))
ax.plot(x, y, 'b-o', linewidth=2)
ax.set_title('Multi-Format Export')

# PNGï¼ˆãƒ©ã‚¹ã‚¿ãƒ¼å½¢å¼ã€Webå‘ã‘ï¼‰
fig.savefig('chart.png', dpi=150, bbox_inches='tight', facecolor='white')

# PDFï¼ˆãƒ™ã‚¯ã‚¿ãƒ¼å½¢å¼ã€å°åˆ·å‘ã‘ï¼‰
fig.savefig('chart.pdf', bbox_inches='tight')

# SVGï¼ˆãƒ™ã‚¯ã‚¿ãƒ¼å½¢å¼ã€Webå‘ã‘ï¼‰
fig.savefig('chart.svg', bbox_inches='tight')

plt.show()
```

**è§£èª¬:**
- PNG: ãƒ”ã‚¯ã‚»ãƒ«ç”»åƒï¼ˆWebã€ãƒ—ãƒ¬ã‚¼ãƒ³å‘ã‘ï¼‰
- PDF: ãƒ™ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆå°åˆ·ã€è«–æ–‡å‘ã‘ï¼‰
- SVG: ãƒ™ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆWebã€æ‹¡å¤§ã—ã¦ã‚‚ç¶ºéº—ï¼‰

</details>

---

### æ¼”ç¿’8: GridSpec ã§ä¸å‡ç­‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    å¤§ãã„ã‚°ãƒ©ãƒ•       â”‚  â† ä¸Šæ®µå…¨å¹…
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å°ã•ã„1  â”‚  å°ã•ã„2  â”‚  â† ä¸‹æ®µ2åˆ†å‰²
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```python
import matplotlib.pyplot as plt
import matplotlib.gridspec as gridspec

x = [1, 2, 3, 4, 5]
y = [10, 20, 15, 25, 20]

# GridSpec ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œæˆ
# ã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

plt.tight_layout()
plt.show()
```

<details>
<summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>

```python
import matplotlib.pyplot as plt
import matplotlib.gridspec as gridspec

x = [1, 2, 3, 4, 5]
y = [10, 20, 15, 25, 20]

fig = plt.figure(figsize=(12, 8))

# 2è¡Œ2åˆ—ã®ã‚°ãƒªãƒƒãƒ‰
gs = gridspec.GridSpec(2, 2, height_ratios=[2, 1])

# ä¸Šæ®µ: 2åˆ—åˆ†ã‚’ä½¿ç”¨
ax1 = fig.add_subplot(gs[0, :])  # 0è¡Œç›®ã€å…¨åˆ—
ax1.plot(x, y, 'b-o', linewidth=2)
ax1.set_title('Main Chart (Full Width)', fontsize=14)

# ä¸‹æ®µå·¦
ax2 = fig.add_subplot(gs[1, 0])
ax2.bar(x, y, color='orange')
ax2.set_title('Sub Chart 1')

# ä¸‹æ®µå³
ax3 = fig.add_subplot(gs[1, 1])
ax3.scatter(x, y, s=100, c='green')
ax3.set_title('Sub Chart 2')

plt.tight_layout()
plt.show()
```

**è§£èª¬:**
- `gs[0, :]` ã§0è¡Œç›®ã®å…¨åˆ—ã‚’æŒ‡å®š
- `height_ratios=[2, 1]` ã§ä¸Šæ®µã‚’ä¸‹æ®µã®2å€ã®é«˜ã•ã«

</details>

---

## âœ… æ¼”ç¿’ã®ã¾ã¨ã‚

| æ¼”ç¿’ | å­¦ã‚“ã ã“ã¨ |
|------|------------|
| 1 | 2x2ã‚°ãƒªãƒƒãƒ‰ã®åŸºæœ¬ |
| 2 | 1è¡Œè¤‡æ•°åˆ—ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ |
| 3 | xè»¸ã®å…±æœ‰ |
| 4 | yè»¸ã®å…±æœ‰ |
| 5 | åŒè»¸ã‚°ãƒ©ãƒ• |
| 6 | PNGä¿å­˜ |
| 7 | è¤‡æ•°å½¢å¼ã§ã®ä¿å­˜ |
| 8 | GridSpec |

---

## ğŸ”— æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ã“ã‚Œã‚‰ã®åŸºæœ¬ã‚’ç†è§£ã—ãŸã‚‰ã€ã€Œå¿œç”¨å•é¡Œã€ã§å®Ÿè·µçš„ãªèª²é¡Œã«æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ï¼
