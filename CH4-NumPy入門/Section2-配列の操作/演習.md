# Section2: 配列の操作 - 演習

## 🎯 演習の目的

技術説明で学んだ内容を、実際に手を動かして定着させましょう。
各問題のコードを Jupyter Notebook で実行してください。

---

## 演習1: 1次元配列のインデックス

### 問題

以下の配列から指定された要素を取り出してください。

```python
import numpy as np
arr = np.array([10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
```

1. 最初の要素
2. 5番目の要素（インデックス4）
3. 最後の要素
4. 最後から3番目の要素

### 期待される出力

```
最初の要素: 10
5番目の要素: 50
最後の要素: 100
最後から3番目: 80
```

<details>
<summary>解答例を見る</summary>

```python
import numpy as np

arr = np.array([10, 20, 30, 40, 50, 60, 70, 80, 90, 100])

print("最初の要素:", arr[0])
print("5番目の要素:", arr[4])
print("最後の要素:", arr[-1])
print("最後から3番目:", arr[-3])
```

</details>

---

## 演習2: 2次元配列のインデックス

### 問題

以下の2次元配列から指定された要素を取り出してください。

```python
import numpy as np
arr = np.array([[1, 2, 3, 4],
                [5, 6, 7, 8],
                [9, 10, 11, 12]])
```

1. 1行2列目の要素（インデックス [0, 1]）
2. 2行4列目の要素
3. 3行目全体
4. 2列目全体

### 期待される出力

```
1行2列目: 2
2行4列目: 8
3行目全体: [ 9 10 11 12]
2列目全体: [ 2  6 10]
```

<details>
<summary>解答例を見る</summary>

```python
import numpy as np

arr = np.array([[1, 2, 3, 4],
                [5, 6, 7, 8],
                [9, 10, 11, 12]])

print("1行2列目:", arr[0, 1])
print("2行4列目:", arr[1, 3])
print("3行目全体:", arr[2])
print("2列目全体:", arr[:, 1])
```

</details>

---

## 演習3: 1次元配列のスライス

### 問題

以下の配列から指定された範囲を取り出してください。

```python
import numpy as np
arr = np.array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
```

1. インデックス 2 から 5 まで（5は含まない）
2. 最初から 4 番目まで（インデックス 0〜3）
3. インデックス 5 から最後まで
4. 3つおきに取得
5. 配列を逆順にする

### 期待される出力

```
2から5まで: [2 3 4]
最初から4番目: [0 1 2 3]
5から最後: [5 6 7 8 9]
3つおき: [0 3 6 9]
逆順: [9 8 7 6 5 4 3 2 1 0]
```

<details>
<summary>解答例を見る</summary>

```python
import numpy as np

arr = np.array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])

print("2から5まで:", arr[2:5])
print("最初から4番目:", arr[:4])
print("5から最後:", arr[5:])
print("3つおき:", arr[::3])
print("逆順:", arr[::-1])
```

</details>

---

## 演習4: 2次元配列のスライス

### 問題

以下の2次元配列から指定された範囲を取り出してください。

```python
import numpy as np
arr = np.array([[1, 2, 3, 4, 5],
                [6, 7, 8, 9, 10],
                [11, 12, 13, 14, 15],
                [16, 17, 18, 19, 20]])
```

1. 最初の2行
2. 最後の2列
3. 2行目から3行目、2列目から4列目（右下の4要素）
4. 1行おきに取得

### 期待される出力

```
最初の2行:
[[1 2 3 4 5]
 [6 7 8 9 10]]
最後の2列:
[[ 4  5]
 [ 9 10]
 [14 15]
 [19 20]]
右下の4要素:
[[ 8  9 10]
 [13 14 15]]
1行おき:
[[ 1  2  3  4  5]
 [11 12 13 14 15]]
```

<details>
<summary>解答例を見る</summary>

```python
import numpy as np

arr = np.array([[1, 2, 3, 4, 5],
                [6, 7, 8, 9, 10],
                [11, 12, 13, 14, 15],
                [16, 17, 18, 19, 20]])

print("最初の2行:")
print(arr[:2])

print("最後の2列:")
print(arr[:, -2:])

print("右下の4要素:")
print(arr[1:3, 2:5])

print("1行おき:")
print(arr[::2])
```

</details>

---

## 演習5: ブールインデックス

### 問題

以下の配列から条件を満たす要素を抽出してください。

```python
import numpy as np
arr = np.array([15, 23, 8, 42, 16, 4, 31, 27, 19, 35])
```

1. 20より大きい要素
2. 10以上25以下の要素
3. 偶数の要素
4. 20より小さい、または30より大きい要素

### 期待される出力

```
20より大きい: [23 42 31 27 35]
10以上25以下: [15 23 16 19]
偶数: [ 8 42 16  4]
20未満または30超: [15  8 16  4 19 31 35]
```

<details>
<summary>解答例を見る</summary>

```python
import numpy as np

arr = np.array([15, 23, 8, 42, 16, 4, 31, 27, 19, 35])

print("20より大きい:", arr[arr > 20])
print("10以上25以下:", arr[(arr >= 10) & (arr <= 25)])
print("偶数:", arr[arr % 2 == 0])
print("20未満または30超:", arr[(arr < 20) | (arr > 30)])
```

</details>

---

## 演習6: 条件で値を置換

### 問題

以下の配列を条件に従って変更してください。

```python
import numpy as np
arr = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
```

1. 5より大きい要素をすべて 0 に置換
2. 偶数の要素をすべて -1 に置換（新しい配列で）

### 期待される出力

```
5より大きいを0に:
[ 1  2  3  4  5  0  0  0  0  0]
偶数を-1に:
[ 1 -1  3 -1  5 -1  7 -1  9 -1]
```

<details>
<summary>解答例を見る</summary>

```python
import numpy as np

# 5より大きい要素を0に
arr1 = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
arr1[arr1 > 5] = 0
print("5より大きいを0に:")
print(arr1)

# 偶数を-1に（新しい配列を使う）
arr2 = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
arr2[arr2 % 2 == 0] = -1
print("偶数を-1に:")
print(arr2)
```

</details>

---

## 演習7: reshape

### 問題

以下の配列の形状を変更してください。

```python
import numpy as np
arr = np.arange(24)
```

1. 4行6列に変形
2. 2行12列に変形
3. 3次元配列 (2, 3, 4) に変形
4. -1 を使って 6行に変形（列数は自動計算）

### 期待される出力

```
4行6列:
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
2行12列:
[[ 0  1  2  3  4  5  6  7  8  9 10 11]
 [12 13 14 15 16 17 18 19 20 21 22 23]]
3次元 (2,3,4):
[[[ 0  1  2  3]
  [ 4  5  6  7]
  [ 8  9 10 11]]

 [[12 13 14 15]
  [16 17 18 19]
  [20 21 22 23]]]
6行（列自動）:
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]
 [12 13 14 15]
 [16 17 18 19]
 [20 21 22 23]]
```

<details>
<summary>解答例を見る</summary>

```python
import numpy as np

arr = np.arange(24)

print("4行6列:")
print(arr.reshape(4, 6))

print("2行12列:")
print(arr.reshape(2, 12))

print("3次元 (2,3,4):")
print(arr.reshape(2, 3, 4))

print("6行（列自動）:")
print(arr.reshape(6, -1))
```

</details>

---

## 演習8: flatten と転置

### 問題

以下の配列を操作してください。

```python
import numpy as np
arr = np.array([[1, 2, 3],
                [4, 5, 6],
                [7, 8, 9]])
```

1. 1次元に変換
2. 転置して表示
3. 転置後の形状を表示

### 期待される出力

```
1次元化: [1 2 3 4 5 6 7 8 9]
転置:
[[1 4 7]
 [2 5 8]
 [3 6 9]]
転置後の形状: (3, 3)
```

<details>
<summary>解答例を見る</summary>

```python
import numpy as np

arr = np.array([[1, 2, 3],
                [4, 5, 6],
                [7, 8, 9]])

print("1次元化:", arr.flatten())

print("転置:")
print(arr.T)

print("転置後の形状:", arr.T.shape)
```

</details>

---

## 演習9: 配列の結合

### 問題

以下の配列を結合してください。

```python
import numpy as np
a = np.array([[1, 2],
              [3, 4]])
b = np.array([[5, 6],
              [7, 8]])
```

1. 縦に結合（vstack）
2. 横に結合（hstack）

### 期待される出力

```
縦に結合:
[[1 2]
 [3 4]
 [5 6]
 [7 8]]
横に結合:
[[1 2 5 6]
 [3 4 7 8]]
```

<details>
<summary>解答例を見る</summary>

```python
import numpy as np

a = np.array([[1, 2],
              [3, 4]])
b = np.array([[5, 6],
              [7, 8]])

print("縦に結合:")
print(np.vstack([a, b]))

print("横に結合:")
print(np.hstack([a, b]))
```

</details>

---

## 🎉 演習完了チェックリスト

- [ ] 1次元・2次元配列のインデックスでアクセスできた
- [ ] スライスで範囲を取得できた
- [ ] ブールインデックスで条件抽出できた
- [ ] 条件を使って値を置換できた
- [ ] reshape で形状を変更できた
- [ ] flatten で1次元化できた
- [ ] 転置（T）を使えた
- [ ] vstack, hstack で配列を結合できた

すべてのチェックが完了したら、応用問題に進みましょう！
